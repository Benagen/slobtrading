# =============================================================================
# SLOB Trading Strategy - Environment Configuration Template
# =============================================================================
# Copy this file to .env and fill in your actual values
# NEVER commit .env to version control

# -----------------------------------------------------------------------------
# Interactive Brokers Configuration
# -----------------------------------------------------------------------------
IB_GATEWAY_HOST=ib-gateway
IB_GATEWAY_PORT=4002
IB_CLIENT_ID=1
IB_ACCOUNT=DU1234567
IB_USERNAME=your_username
IB_PASSWORD=your_password

# VNC Password (for IB Gateway container debugging)
VNC_PASSWORD=vncpass

# -----------------------------------------------------------------------------
# Trading Parameters
# -----------------------------------------------------------------------------
RISK_PER_TRADE=0.01
MAX_POSITION_SIZE=1
TRADING_MODE=paper

# Symbol to trade
SYMBOLS=NQ=F

# -----------------------------------------------------------------------------
# Database Configuration
# -----------------------------------------------------------------------------
DB_PATH=/app/data/candle_store.db
STATE_DB_PATH=/app/data/slob_state.db

# -----------------------------------------------------------------------------
# Logging Configuration
# -----------------------------------------------------------------------------
LOG_LEVEL=INFO
LOG_PATH=/app/logs/slob.log

# -----------------------------------------------------------------------------
# Telegram Notifications (Optional)
# -----------------------------------------------------------------------------
# Get bot token from @BotFather on Telegram
# Get chat ID by messaging your bot and visiting:
# https://api.telegram.org/bot<TOKEN>/getUpdates
TELEGRAM_BOT_TOKEN=your_bot_token_here
TELEGRAM_CHAT_ID=your_chat_id_here

# -----------------------------------------------------------------------------
# Email Notifications (Optional)
# -----------------------------------------------------------------------------
# SMTP Configuration (Gmail example)
SMTP_SERVER=smtp.gmail.com
SMTP_PORT=587
SENDER_EMAIL=your-email@gmail.com
SENDER_PASSWORD=your-app-password
ALERT_EMAILS=recipient1@example.com,recipient2@example.com

# -----------------------------------------------------------------------------
# Dashboard Configuration
# -----------------------------------------------------------------------------
DASHBOARD_PORT=5000

# Dashboard secret key for session encryption (CRITICAL: Change in production!)
# Generate with: python -c "import secrets; print(secrets.token_hex(32))"
DASHBOARD_SECRET_KEY=change-this-to-random-string-minimum-32-chars

# Dashboard password authentication (Choose ONE method):

# METHOD 1: Password hash (RECOMMENDED for production)
# Generate with:
# python -c "from werkzeug.security import generate_password_hash; import getpass; print(generate_password_hash(getpass.getpass('New Password: ')))"
DASHBOARD_PASSWORD_HASH=scrypt:32768:8:1$your_bcrypt_hash_here

# METHOD 2: Plaintext password (DEVELOPMENT ONLY - INSECURE)
# Only used if DASHBOARD_PASSWORD_HASH is not set
# DASHBOARD_PASSWORD=admin

# Optional: Enable HTTPS for secure cookies (production deployments)
# DASHBOARD_HTTPS=true

# -----------------------------------------------------------------------------
# Redis Configuration (for StateManager - Production Recommended)
# -----------------------------------------------------------------------------
REDIS_HOST=redis
REDIS_PORT=6379

# Redis password (CRITICAL: Change in production!)
# Generate with: openssl rand -base64 32
REDIS_PASSWORD=your_redis_password_here

REDIS_DB=0

# Redis TLS Configuration (Production Only)
# Set to true to enable TLS encryption
REDIS_TLS_ENABLED=true

# TLS certificate paths (auto-mounted in Docker)
REDIS_CA_CERT=/app/certs/ca.crt
REDIS_CLIENT_CERT=/app/certs/redis.crt
REDIS_CLIENT_KEY=/app/certs/redis.key

# -----------------------------------------------------------------------------
# Strategy Parameters (Optional overrides)
# -----------------------------------------------------------------------------
# ATR_PERIOD=14
# ATR_MULTIPLIER_MIN=0.5
# ATR_MULTIPLIER_MAX=2.0
# CONSOLIDATION_MIN_DURATION=3
# CONSOLIDATION_MAX_DURATION=25
